#:import BottomNav libs.components.bottom_nav.BottomNav
#:import CircularAvatarImage libs.components.circular_avatar_image.CircularAvatarImage
#:import SideNav libs.components.side_nav.SideNav
#:import TopNav libs.components.top_nav.TopNav
#:import VideoCard libs.components.video_card.VideoCard

<ReelCard@MDBoxLayout>:
    orientation: 'vertical'
    spacing: 2
    width: 360
    size_hint_y: None
    height: 720
    # size_hint: (1, 1)
    md_bg_color: get_color_from_hex("1c1c1e")
    radius: [dp(20), dp(20), dp(20), dp(20)]
    padding: dp(0)
    
    # MDBoxLayout:
    #     height : 1
    #     spacing: 2
    #     padding: 2

    #     MDRelativeLayout:
    #         orientation: 'horizontal'
    #         padding: 2
    #         size_hint_y: None
    #         # adaptive_height: True

    #         Circle:
    #             radius: [50, ]
    #             size: 60,60
    #             md_bg_color: 1,1,1,1
    #             pos_hint: {"center_x": 0.1,"center_y":3}

    #         Circle:
    #             radius: [50, ]
    #             size: 55,55
    #             md_bg_color: 1,1,1,1
    #             pos_hint: {"center_x": 0.1,"center_y":3}

    #         FitImage:
    #             source: root.avatar
    #             size_hint: None,None 
    #             size:53,53
    #             radius: [53]
    #             pos_hint: {"center_x": 0.1,"center_y":3}

        
            # MDLabel:
            #     text: root.username
            #     font_size: 16
            #     size_hint_y: None
            #     height: self.texture_size[1]
            #     valign: 'center'
            #     theme_text_color: 'Custom'
            #     text_color: 1, 1, 1, 1
            #     pos_hint: {"center_x": 0.7,"center_y":3}

        # MDIconButton:
        #     icon: 'camera-outline'
        #     pos_hint: {"center_x": 0.9,"center_y":2.1}
        #     theme_text_color: 'Custom'
        #     text_color: 1, 1, 1, 1
    MDFloatLayout:
        orientation:'vertical'
        height: 720
        width:360
        padding : 2
        radius: [dp(20), dp(20), dp(20), dp(20)]
        size_hint: (1, 1)
        # adaptive_height : True
        VideoPlayer:
            source: root.video
            padding : 2
            radius: [dp(20), dp(20), dp(20), dp(20)]
            state: 'play'
            options: {'eos': 'loop'}
            allow_stretch: True
            
            keep_ratio: False
            size_hint:(1,1)
            # width: root.width*0.9
            height: 720
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            background_color: get_color_from_hex("000000")
            anchor_x: 'center'
            anchor_y: 'center'
            
        
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint: {'x':0, 'y':0}
            size_hint_y: None
            width: root.width*0.99 #80% of screen width
            spacing: 0
            padding: 0
            MDLabel:
                text: root.username
                height: self.texture_size[1]
                font_size: '14sp'
                size_hint_y: None        
            MDLabel:
                text: root.comments
                height: self.texture_size[1]
                font_size: '14sp'
                size_hint_y: None
            MDBoxLayout:
                size_hint_y: None
                height: self.minimum_height
                MDIcon:
                    icon: 'music-note'
                    size: self.texture_size
                    size_hint: None, 1
                    font_size: '14sp'
                MDLabel:
                    text: root.posted_ago
                    height: self.texture_size[1]
                    font_size: '14sp'
                    size_hint_y: None

    
        # MDLabel:
        #     text: f"{root.likes} likes"
        #     size_hint_y: None
        #     height: self.texture_size[1]
        #     valign: 'center'
        #     theme_text_color: 'Custom'
        #     text_color: 1, 1, 1, 1

        # MDLabel:
        #     text: f"{root.comments} comments"
        #     size_hint_y: None
        #     height: self.texture_size[1]
        #     valign: 'center'
        #     theme_text_color: 'Custom'
        #     text_color: 1, 1, 1, 1

        # MDLabel:
        #     text: root.posted_ago
        #     size_hint_y: None
        #     height: self.texture_size[1]
        #     valign: 'center'
        #     theme_text_color: 'Custom'
        #     text_color: 1, 1, 1, 1

    

        
